{% extends "base.html" %}

{% block title %} Login {% endblock %}
{% block content %}
<h2>Login</h2>
<form action="{{url_for('home')}}" method="post" enctype="multipart/form-data">
    Name: <input type="text" name="name" id=""> <br>
    password: <input type="password" name="password" id=""><br>
    <input type="submit" value="Login">
</form>

<h2>File upload</h2>
<form action="{{url_for('file_upload')}}" method="post" enctype="multipart/form-data">
    <input type="file" name="file" id="" accept=".xlsx,.xls,text/plain,.txt">
    <input type="submit" value="Upload">
</form>

<h2>Convert to csv</h2>
<form action="{{url_for('convert_csv')}}" method="post" enctype="multipart/form-data">
    <input type="file" name="file" id="" accept=".xlsx,.xls">
    <input type="submit" value="Upload">
</form>
<h2>Convert to csv Two</h2>
<form action="{{url_for('convert_csv_two')}}" method="post" enctype="multipart/form-data">
    <input type="file" name="file" id="" accept=".xlsx,.xls">
    <input type="submit" value="Upload">
</form>

<h3>Javascript Json request</h3>
<button id="postbtn">send POST request</button>
<script type="text/javascript">
    const postButton = document.getElementById('postbtn')
    const jsondata = { name: "masila", greeting: "Hello" }
    postButton.addEventListener("click", () => {
        fetch("{{url_for('handle_post')}}", {
            method: "POST",
            headers: {
                'Content-Type': 'application/json;charset="utf-8'
            },
            body: JSON.stringify(jsondata)
        }).then(response => response.json())
            .then(data => console.log('success', data))
            .catch((err) => {
                console.error("error", err)
            })
    })
</script>
{% endblock %}